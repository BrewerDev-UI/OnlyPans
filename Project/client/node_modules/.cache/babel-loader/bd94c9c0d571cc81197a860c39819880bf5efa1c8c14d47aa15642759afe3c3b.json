{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Devon/Desktop/MERN/OnlyPans/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Devon/Desktop/MERN/OnlyPans/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import io from'socket.io-client';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Chat=function Chat(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),approve=_useState2[0],setApprove=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUserName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),input=_useState6[0],setInput=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),messages=_useState8[0],setMessages=_useState8[1];var _useState9=useState(function(){return io(':8000');}),_useState10=_slicedToArray(_useState9,1),socket=_useState10[0];useEffect(function(){console.log('Is this running?');// socket.on('Welcome', data => console.log(data));\nsocket.on(\"post chat\",function(msg){setMessages(function(prevMsgState){return[].concat(_toConsumableArray(prevMsgState),[msg]);});});return function(){return socket.removeAllListeners();};},[socket]);var userNameHandler=function userNameHandler(e){e.preventDefault();if(username){setApprove(true);}};var submitHandler=function submitHandler(e){e.preventDefault();socket.emit(\"chat\",{username:username,content:input});setInput(\"\");};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"onlyHeader\",children:\"Hot Pans are waiting....\"}),!approve?/*#__PURE__*/_jsxs(\"form\",{onSubmit:userNameHandler,className:\"m-5\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"pansHeader\",children:\"Enter User Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",style:{width:200},className:\"form-control mt-3 mb-3\",onChange:function onChange(e){return setUserName(e.target.value);},value:username}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark\",children:\"Enter\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center m-4 d-flex \",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,className:\"m-5\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",style:{width:250},onChange:function onChange(e){return setInput(e.target.value);},value:input}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-success m-3\",children:\"Talk\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"className=\\\"m-5\\\"\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:\"OnlyPans Chat Log:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:messages.map(function(msg,i){return/*#__PURE__*/_jsxs(\"p\",{children:[msg.username,\": \",msg.content]},i);})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-footer\",children:\"Ask other Pans for help, cleaning, or recipes\"})]})})]})]});};export default Chat;","map":{"version":3,"names":["React","useState","useEffect","io","Chat","approve","setApprove","username","setUserName","input","setInput","messages","setMessages","socket","console","log","on","msg","prevMsgState","removeAllListeners","userNameHandler","e","preventDefault","submitHandler","emit","content","width","target","value","map","i"],"sources":["C:/Users/Devon/Desktop/MERN/OnlyPans/client/src/components/Chat.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport io from 'socket.io-client';\r\n\r\n\r\nconst Chat = () => {\r\n    const [approve, setApprove] = useState(false)\r\n    const [username, setUserName] = useState(\"\")\r\n    const [input, setInput] = useState(\"\")\r\n    const [messages, setMessages] = useState([])\r\n\r\n    const [socket] = useState(() => io(':8000'));\r\n    useEffect(() => {\r\n        console.log('Is this running?');\r\n        // socket.on('Welcome', data => console.log(data));\r\n        socket.on(\"post chat\", (msg) => {\r\n            setMessages(prevMsgState => [...prevMsgState, msg]);\r\n        })\r\n\r\n        return () => socket.removeAllListeners();\r\n    }, [socket]);\r\n\r\n    const userNameHandler = (e) => {\r\n        e.preventDefault();\r\n        if (username) {\r\n            setApprove(true)\r\n        }\r\n    }\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        socket.emit(\"chat\", { username: username, content: input })\r\n        setInput(\"\")\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1 className='onlyHeader'>Hot Pans are waiting....</h1>\r\n            {\r\n                !approve ?\r\n                    <form onSubmit={userNameHandler} className=\"m-5\">\r\n                        <label className='pansHeader'>Enter User Name:</label>\r\n                        <input type=\"text\" style={{ width: 200 }} className='form-control mt-3 mb-3' onChange={(e) => setUserName(e.target.value)} value={username} />\r\n                        <button className='btn btn-outline-dark'>Enter</button>\r\n\r\n\r\n                    </form> :\r\n                    <div className='text-center m-4 d-flex '>\r\n                        <form onSubmit={submitHandler} className=\"m-5\" >\r\n                            <input type=\"text\" className='form-control' style={{ width: 250 }} onChange={(e) => setInput(e.target.value)} value={input} />\r\n                            <button className='btn btn-outline-success m-3'>Talk</button>\r\n\r\n                        </form>\r\n                        <div className='className=\"m-5\"'>\r\n                            <div className='card text-center'>\r\n                                <div className='card-header'>\r\n                                    OnlyPans Chat Log:\r\n                                </div>\r\n                                <div className='card-body'>\r\n                                    {\r\n                                        messages.map((msg, i) => (<p key={i}>{msg.username}: {msg.content}</p>))\r\n                                    }\r\n\r\n                                </div>\r\n                                <div className='card-footer'>\r\n                                    Ask other Pans for help, cleaning, or recipes\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}